System.register(["jimu-core","jimu-ui","esri/rest/geoprocessor"],(function(e,t){var r={},a={},o={};return{setters:[function(e){r.React=e.React},function(e){a.Alert=e.Alert,a.Button=e.Button,a.Label=e.Label,a.Loading=e.Loading},function(e){o.submitJob=e.submitJob}],execute:function(){e((()=>{var e={781:e=>{"use strict";e.exports=o},244:e=>{"use strict";e.exports=r},321:e=>{"use strict";e.exports=a}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="";var s={};return n.p=window.jimuConfig.baseUrl,(()=>{"use strict";n.r(s),n.d(s,{__set_webpack_public_path__:()=>l,default:()=>c});var e=n(244),t=n(321),r=n(781),a=function(e,t,r,a){return new(r||(r=Promise))((function(o,n){function s(e){try{l(a.next(e))}catch(e){n(e)}}function c(e){try{l(a.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((a=a.apply(e,t||[])).next())}))};const{useState:o}=e.React,c=n=>{const[s,c]=o(null),[l,i]=o(null),[u,m]=o(null),[p,d]=o(null),[b,f]=o("idle");return e.React.createElement("div",{className:"jimu-widget p-3",style:{backgroundColor:"#fff",height:"100%",overflow:"auto"}},e.React.createElement("h6",{className:"mb-3"},"C\xe1lculo de \xc1rea Queimada (dNBR)"),e.React.createElement("div",{className:"mb-3 border-bottom pb-2"},e.React.createElement(t.Label,{className:"small font-weight-bold text-primary"},"1. IMAGENS PR\xc9-FOGO"),e.React.createElement("input",{type:"file",className:"w-100 mb-2 small",onChange:e=>c(e.target.files[0])}),e.React.createElement("input",{type:"file",className:"w-100 small",onChange:e=>i(e.target.files[0])})),e.React.createElement("div",{className:"mb-3 border-bottom pb-2"},e.React.createElement(t.Label,{className:"small font-weight-bold text-success"},"2. IMAGENS P\xd3S-FOGO"),e.React.createElement("input",{type:"file",className:"w-100 mb-2 small",onChange:e=>m(e.target.files[0])}),e.React.createElement("input",{type:"file",className:"w-100 small",onChange:e=>d(e.target.files[0])})),e.React.createElement(t.Button,{type:"primary",className:"w-100 mt-2",onClick:()=>a(void 0,void 0,void 0,(function*(){if(s&&l&&u&&p){f("running");try{const e={nir_ant_path:s,swir_ant_path:l,nir_dep_path:u,swir_dep_path:p,target_layer:"https://geoprocessamento.bombeiros.mg.gov.br/server/rest/services/Hosted/Area_queimada_teste/FeatureServer/0"},t=yield r.submitJob("https://geoprocessamento.bombeiros.mg.gov.br/server/rest/services/Calculadora2/GPServer/CalcularAreaQueimada",e);yield t.waitForJobCompletion(),f("success")}catch(e){console.error("Erro no Geoprocessamento:",e),f("error")}}else f("error")})),disabled:"running"===b},"running"===b?"Processando Imagens...":"Executar C\xe1lculo"),"running"===b&&e.React.createElement(t.Loading,{type:"secondary"}),"success"===b&&e.React.createElement(t.Alert,{className:"mt-2",type:"success",text:"Pedido conclu\xeddo com sucesso!",closable:!0,onClose:()=>f("idle")}),"error"===b&&e.React.createElement(t.Alert,{className:"mt-2",type:"error",text:"Falha na execu\xe7\xe3o. Verifique a conex\xe3o com o servidor.",closable:!0,onClose:()=>f("idle")}))};function l(e){n.p=e}})(),s})())}}}));